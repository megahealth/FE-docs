# OQC小工具集

旨在提高产品出货检验、固件升级、设备添加等应用场景的工作效率
包含以下工具方法：

1. 出货检验
2. 固件升级
3. 添加设备

## 升级固件

### 概述

设备升级需要将device表中isAutoUpdate字段置为1，此时设备会自动获取最新固件进行升级，连接wifi情况下此过程耗时较短，GRPS情况下则需要15分钟左右。无论哪种情况，进行设备固件批量升级都很耗时，特开发此工具解决该问题。

### 业务逻辑

1. 添加设备
   扫描设备二维码，添加设备到【设备升级】机构中，如果设备已存在于device表中，则不能添加。
2. 升级设备
   页面显示设备信息，包括SN号，网络连接类型，固件版本号，升级和删除按钮。
   网络连接类型：1. WiFi 2. GRPS
   固件版本号：低于最新版时显示版本数字
   升级按钮：设备处于工作状态、固件版本低于最新版、升级字段isAutoUpdate==0、网络状态为GPRS时，【升级】按钮置灰，不可点击，网络状态为WiFi，此时显示【升级】。用户点击即可进入【正在升级】状态，此时修改升级字段isAutoUpdate为1，等待若干时间，按钮会变为【升级成功】状态并置灰。
   删除按钮：升级中的设备不可删除。
3. 删除设备
   设备固件升级成功后，可以删除设备。

设备列表每20秒更新一次。